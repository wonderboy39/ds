# Binary Search Tree (이진탐색 트리)
이진탐색 트리에서 어려운 것은 삭제, 삽입의 과정들이다. 트리를 삭제하고 나서이진 탐색 트리의 성질인 루트노드보다 작은 것은 왼쪽에, 루트노드보다 큰 것은 오른쪽에 두고 트리를 재구성하는 과정을 거치게 되는데 이에 대해 유념해서 작성해야 한다.  
  
이진 탐색트리는 우선순위 큐를 힙구조로 작성할 때 이진트리의 삽입, 삭제 등의 연산들이 응용된다. 그리고 우선순위 큐는 뒤에서 그래프 자료구조를 탐욕알고리즘으로 작성할 때 응용된다. 학부시절 공부를 했으나, 그림을 그려놓고, 코딩을 해놓고 문서로 정리하지를 않아 개념들이 기억이 안나서 정리해둔다...  
  
그림으로 그린 개념들은 차차 시간이 날때마다 업로드 하기로 하고 필요한 것들만 뽑아서 핵심으로 정리해보면 아래와 같다.        
## INDEX
 - 이진탐색트리의 특징
 - 탐색
 - 삽입
 - 삭제
 
## 이진 탐색 트리의 특징  
이진탐색트리의 성격을 이해하고 작성해야 한다. 막연히 노드를 두개 가진 트리가 아니다.    
 - 모든 노드의 키는 유일하다.  
 - 왼쪽 서브트리의 키들은 루트의 키보다 작다.  
 - 오른쪽 서브트릐의 키들은 루트의 키보다 크다.  
 - 왼쪽과 오른쪽 서브트리도 이진 탐색 트리이다.  

## 탐색(재귀순회)  
**searchNode(Node, x)**  
서브트리를 기준으로 그 서브트리의 루트 노드를 기준으로 탐색을 수행한다.   
 1. 비교한 결과가 같으면 탐색이 성공적으로 끝난다.  
 2. 주어진 키 값이 루트 노드의 키 값보다 작을 경우  
   : 탐색은 이 루트노드의 왼쪽 자식을 기준으로 다시 시작한다.  
 3. 주어진 키 값이 루트 노드의 키 값보다 클 경우  
   : 탐색은 루트노드의 오른쪽 자식을 기준으로 다시 시작한다.  
      
## 삽입  
**insertNode(Node ,x)**  
 1. 트리 T에서 x에 대한 탐색을 먼저 수행한다.  
 2. 탐색이 실패하면 탐색이 끝난 지점에 노드 x를 삽입한다.  

## 삭제  
### 1) 삭제하려는 노드가 단말노드일 경우  
**삭제하려는 노드가 단말노드인지 확인**  
삭제하려는 노드가 단말노드일 경우 단말노드 아래에 더 이상의 노드가 없으므로 어렵지 않다. 탐색을 마쳤는데 그 노드의 left,right가 없는 경우이다.  
  
**찾은 단말노드를 삭제하는 연산**  
삭제하려는 노드 current가 단말노드일 경우 current의 부모노드의 left 또는 right 참조를 null로 두는 것으로 해결가능하다.  
  
### 2) 삭제하려는 노드가 하나의 서브트리만 가지고 있는 경우  
삭제되는 노드 current가 왼쪽이나 오른쪽 서브트리중 하나만 가지고 있는 경우다.
current 자기 자신은 삭제(자바에서는 null로 둔다)하고 서브트리를 current의 부모노드에 붙여주기만 하면 된다.  
**current의 자식노드가 하나만 존재하는지 확인**  

### 3) 삭제하려는 노드가 두개의 서브트리를 가지고 있는 경우  
가장 복잡하고 지저분한 케이스. 서브트리에 있는 임의의 어떤 노드를 삭제위치로 가져올지가 포인트. 왼쪽 자식 또는 오른쪽 자식을 그냥 가져오면 안된다.  
  
서브트리들을 정치 파벌이라고 생각할 경우 가장 중도적인 인물을 후계자로 삼아야만 다른사람들과의 마찰이 적을 것이다. 이진 탐색 트리에서도 삭제되는 노드와 가장 값이 비슷한 노드를 후계자로 선택해야 할 것이다. 그래야만 노드를 이동시키지 않아도 이진 탐색트리가 그대로 유지된다.  
  
그러면 가장 값이 가까운 노드는 어디에 있을까? 왼쪽 서브트리에서 가장 큰 값이나, 오른쪽 서브트리에서 가장 작은 값이 삭제되는 노드와 가장 가까운 값이라는 것을 알 수 있다. 왼쪽 서브트리에서 가장 큰 값은 왼쪽 서브트리의 가장 오른쪽에 있는 노드이며, 오른쪽 서브트리에서 가장 작은 값은 오른쪽 서브트리의 가장 왼쪽에 있는 노드이다. 또한 이들 노드는 이진 탐색트리를 중위순회할 경우 각각 선행노드와 후속노드에 해당한다.  

즉 후계자로 지정할 노드를 선택해 비교대상에 둘때   
 - 왼쪽 서브트리에서는 왼쪽 서브트리에서 가장 큰 값을  
   (왼쪽 서브트리에서 가장 오른쪽에 있는 노드)  
 - 오른쪽 서브트리에서는 가장 작은 값을  
   (오른쪽 서브트리내에서 가장 왼쪽에 있는 노드)    
선택해야 한다.   
  
그럼 이 후보 노드들 중에서 어느것을 선택해야 할까? 어느것을 선택하여도 이진탐색트리를 무너뜨리지 않는다.  
  
후보대상노드를 탐색해 나가는 과정은 어떻게 될까? 삭자되는 노드의 오른쪽 서브트리에서 가장 작은 값을 갖는 노드는 오른쪽 서브트리에서 왼쪽 자식링크를 타고 null을 만날때까지 계속 진행하면 된다.  



